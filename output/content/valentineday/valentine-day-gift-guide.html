<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    
    <!-- SEO Meta Tags -->
    <meta content="A guide to choosing the perfect Valentine’s gift based on the 5 Love Languages. Understand how your partner experiences love to give a gift that truly feels right." name="description"/>
    <meta content="Love Languages Valentine's, thoughtful gifts, 5 love languages gifts, relationship advice, personalized Valentine's Day, acts of service ideas, quality time gifts" name="keywords"/>
    <meta content="Love Languages Gift Guide" name="author"/>
    
    <title>Love Languages Gift Guide | Choose the Right Valentine’s Gift</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet"/>

    <style>
        body { font-family: 'Inter', sans-serif; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-rose-50 text-slate-900 selection:bg-rose-200 selection:text-rose-900 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="relative py-20 px-6 text-center overflow-hidden bg-white/50 border-b border-rose-100">
        <div class="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none select-none">
            <i class="absolute top-10 left-10 w-24 h-24 transform -rotate-12 text-rose-900" data-lucide="gift"></i>
            <i class="absolute bottom-10 right-10 w-36 h-36 transform rotate-6 text-rose-900" data-lucide="heart"></i>
        </div>
        <div class="relative z-10 max-w-3xl mx-auto">
            <h1 class="text-4xl md:text-6xl font-extrabold text-slate-900 mb-6 tracking-tight">
                The Art of <span class="text-transparent bg-clip-text bg-gradient-to-r from-rose-500 to-pink-600">Gifting</span>
            </h1>
            <p class="text-lg md:text-xl text-slate-600 leading-relaxed mb-4">
                A valuable gift is not measured by its cost, but by how it resonates with your partner's love language. Take the time to understand their unique way of feeling loved in order to give a truly meaningful present.
            </p>
            <div class="inline-block px-4 py-1 bg-white rounded-full border border-rose-200 text-rose-600 text-sm font-medium">
                Based on the 5 Love Languages
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 -mt-8 relative z-20 flex-grow w-full">
        
        <!-- Controls Bar -->
        <div class="bg-white rounded-2xl shadow-lg p-4 mb-10 flex flex-col md:flex-row items-center justify-between gap-4 border border-slate-100">
            
            <!-- Filters -->
            <div class="flex items-center gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 scrollbar-hide" id="category-filters">
                <i class="text-slate-400 mr-2 flex-shrink-0 w-5 h-5" data-lucide="filter"></i>
                <!-- Buttons injected by JS -->
            </div>

            <!-- Actions -->
            <div class="flex items-center gap-3 w-full md:w-auto">
                <button class="flex-1 md:flex-none flex items-center justify-center gap-2 px-5 py-2.5 bg-rose-50 text-rose-600 rounded-xl hover:bg-rose-100 font-medium transition-colors" onclick="pickRandom()">
                    <i class="w-4 h-4" data-lucide="lightbulb"></i>
                    <span>Gift Idea</span>
                </button>
                
                <button class="flex-1 md:flex-none flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl font-medium transition-colors bg-white border border-slate-200 text-slate-600 hover:border-rose-300 hover:text-rose-600" id="btn-saved-view" onclick="toggleSavedView()">
                    <i class="w-4 h-4" data-lucide="bookmark"></i>
                    <span id="saved-count-text">Saved (0)</span>
                </button>
            </div>
        </div>

        <!-- Saved View (Hidden by default) -->
        <div class="hidden mb-12 fade-in" id="saved-view">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-slate-800">Your Gift Ideas</h2>
                <button class="text-sm text-rose-500 hover:text-rose-700 underline decoration-dotted" onclick="clearFavorites()">Clear all</button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="saved-grid">
                <!-- Saved items injected here -->
            </div>
            <div class="h-px bg-slate-200 w-full my-10"></div>
        </div>

        <!-- Empty State for Saved View -->
        <div class="hidden text-center py-12 bg-white rounded-2xl border-2 border-dashed border-slate-200 mb-12" id="saved-empty">
            <div class="flex justify-center mb-4"><i class="w-12 h-12 text-slate-200" data-lucide="bookmark"></i></div>
            <p class="text-slate-500">Save the ideas that fit your partner best!</p>
            <div class="h-px bg-slate-200 w-full mt-10"></div>
        </div>

        <!-- Main Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="ideas-grid">
            <!-- Cards injected by JS -->
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300">
<div class="container mx-auto px-6 py-12 lg:px-8">
<div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4">
<div>
<h5 class="text-lg font-semibold text-white mb-4">Happy Deppawali</h5>
<ul class="space-y-2">
<li>
<a href="https://www.happydeepawali.org/">/</a>
<span class="meta">2026-01-08</span>
</li>
<li>
<a href="https://www.happydeepawali.org/5-days-of-diwali.html">5-days-of-diwali.html</a>
<span class="meta">2025-09-27</span>
</li>
<li>
<a href="https://www.happydeepawali.org/Diwali-16-current.html">Diwali-16-current.html</a>
<span class="meta">2025-09-27</span>
</li>
<li>
<a href="https://www.happydeepawali.org/Hindu-festivals-list-and-dates/">Hindu-festivals-list-and-dates/</a>
<span class="meta">2025-09-27</span>
</li>
<li>
<a href="https://www.happydeepawali.org/Hindu-festivals-list-and-dates/Brother-Sister-festival.html">Hindu-festivals-list-and-dates/Brother-Sister-festival.html</a>
<span class="meta">2025-09-27</span>
</li>
<li>
<a href="https://www.happydeepawali.org/Hindu-festivals-list-and-dates/Dhanteras-to-Bhaiduj.html">Hindu-festivals-list-and-dates/Dhanteras-to-Bhaiduj.html</a>
<span class="meta">2025-09-27</span>
</li>
<li>
<a href="https://www.happydeepawali.org/Hindu-festivals-list-and-dates/Diwali/Dhanteras-16.html">Hindu-festivals-list-and-dates/Diwali/Dhanteras-16.html</a>
<span class="meta">2025-09-27</span>
</li>
</ul>
</div>
<div>
<h5 class="text-lg font-semibold text-white mb-4">Karwa Chauth</h5>
<ul class="space-y-2">
<li>
<a href="https://www.happydeepawali.org/karwa-chauth/wishes-in-rajasthani.html">karwa-chauth/wishes-in-rajasthani.html</a>
<span class="meta">2025-09-27</span>
</li>
<li>
<a href="https://www.happydeepawali.org/karwa-chauth/wishes-in-tamil.html">karwa-chauth/wishes-in-tamil.html</a>
<span class="meta">2025-09-27</span>
</li>
<li>
<a href="https://www.happydeepawali.org/karwa-chauth/wishes-in-telugu.html">karwa-chauth/wishes-in-telugu.html</a>
<span class="meta">2025-09-27</span>
</li>
<li>
<a href="https://www.happydeepawali.org/karwa-chauth/wishes-karwa-chauth.html">karwa-chauth/wishes-karwa-chauth.html</a>
<span class="meta">2025-09-27</span>
</li>
<li>
<a href="https://www.happydeepawali.org/karwa-chauth/wishes.html">karwa-chauth/wishes.html</a>
<span class="meta">2025-09-27</span>
</li>
<li>
<a href="https://www.happydeepawali.org/karwachauth/2025/karwa-chauth-moon-rise-canada.html">karwachauth/2025/karwa-chauth-moon-rise-canada.html</a>
<span class="meta">2025-09-27</span>
</li>
<li>
<a href="https://www.happydeepawali.org/karwachauth/2025/karwa-chauth-moon-rise-india.html">karwachauth/2025/karwa-chauth-moon-rise-india.html</a>
<span class="meta">2025-09-27</span>
</li>
</ul>
</div>
<div>
<h5 class="text-lg font-semibold text-white mb-4">Makar Sankranti</h5>
<ul class="space-y-2">
<li>
<a href="https://www.happydeepawali.org/makar-sankranti/makar-sankranti-blog-photos.html">makar-sankranti/makar-sankranti-blog-photos.html</a>
<span class="meta">2026-01-08</span>
</li>
<li>
<a href="https://www.happydeepawali.org/makar-sankranti/makarsankranti-blog.html">makar-sankranti/makarsankranti-blog.html</a>
<span class="meta">2026-01-08</span>
</li>
<li>
<a href="https://www.happydeepawali.org/makar-sankranti/makarsankranti-cards.html">makar-sankranti/makarsankranti-cards.html</a>
<span class="meta">2026-01-08</span>
</li>
<li>
<a href="https://www.happydeepawali.org/makar-sankranti/makarsankranti-essay.html">makar-sankranti/makarsankranti-essay.html</a>
<span class="meta">2026-01-08</span>
</li>
<li>
<a href="https://www.happydeepawali.org/makar-sankranti/makarsankranti-greeting-cards.html">makar-sankranti/makarsankranti-greeting-cards.html</a>
<span class="meta">2026-01-08</span>
</li>
<li>
<a href="https://www.happydeepawali.org/makar-sankranti/makarsankranti-guide.html">makar-sankranti/makarsankranti-guide.html</a>
<span class="meta">2026-01-08</span>
</li>
<li>
<a href="https://www.happydeepawali.org/makar-sankranti/makarsankranti-play-script.html">makar-sankranti/makarsankranti-play-script.html</a>
<span class="meta">2026-01-08</span>
</li>
</ul>
</div>
<div>
<h5 class="text-lg font-semibold text-white mb-4">Contact Us</h5>
<div class="space-y-2">
<p>Redmond<br/>WA, USA</p>
<p>
<a class="hover:text-white hover:underline transition-colors duration-200" href="mailto:contact@dataknobs.com">contact@dataknobs.com</a>
</p>
<p>
<a class="hover:text-white hover:underline transition-colors duration-200" href="tel:+14253411222">+1 (425) 341-1222</a>
</p>
</div>
</div>
</div>
<div class="mt-12 border-t border-gray-700 pt-8 flex flex-col items-center justify-between sm:flex-row">
<p class="text-sm text-gray-400">© Happy Deepawali. All rights reserved.</p>
<div class="flex gap-4 mt-4 sm:mt-0">
<a class="text-stone-400 hover:text-white" href="https://www.happydeepawali.org/privacypolicy,html">Privacy Policy</a> <!-- 13 -->
<a class="text-stone-400 hover:text-white" href="https://www.happydeepawali.org/sitemap.html">Sitemap</a> <!-- 14 -->
</div>
<div class="flex space-x-4 mt-4 sm:mt-0">
<a class="text-gray-400 hover:text-white transition-colors duration-200" href="https://www.facebook.com/kreatewebsites/">
<span class="sr-only">Facebook</span>
<svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewbox="0 0 24 24">
<path clip-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.772-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" fill-rule="evenodd"></path>
</svg>
</a>
<a class="text-gray-400 hover:text-white transition-colors duration-200" href="https://www.twitter.com/kreatewebsites/">
<span class="sr-only">Twitter</span>
<svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewbox="0 0 24 24">
<path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path>
</svg>
</a>
<a class="text-gray-400 hover:text-white transition-colors duration-200" href="https://www.linkedin.com/company/kreatewebsites/">
<span class="sr-only">LinkedIn</span>
<svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewbox="0 0 24 24">
<path clip-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.783-1.75-1.75s.784-1.75 1.75-1.75 1.75.783 1.75 1.75-.784 1.75-1.75 1.75zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" fill-rule="evenodd"></path>
</svg>
</a>
</div>
</div>
</div>
</footer>

    <!-- Modal -->
    <div class="hidden fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm transition-opacity opacity-0" id="modal-overlay" onclick="closeModal()">
        <div class="bg-white rounded-3xl max-w-lg w-full p-8 relative shadow-2xl transform scale-95 transition-transform" id="modal-content" onclick="event.stopPropagation()">
            <button class="absolute top-4 right-4 p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-colors" onclick="closeModal()">
                <i class="w-6 h-6" data-lucide="x"></i>
            </button>

            <div class="flex items-center gap-4 mb-6">
                <div class="p-4 bg-rose-100 rounded-2xl">
                    <i class="w-8 h-8 text-rose-600" id="modal-icon"></i>
                </div>
                <div>
                    <span class="text-sm font-semibold text-rose-500 uppercase tracking-wide" id="modal-category">Category</span>
                    <h2 class="text-2xl font-bold text-slate-900 leading-tight" id="modal-title">Title</h2>
                </div>
            </div>

            <div class="prose prose-rose">
                <p class="text-lg text-slate-700 leading-relaxed mb-6" id="modal-desc">Description goes here...</p>
                
                <div class="bg-rose-50 p-4 rounded-xl border border-rose-100">
                    <h4 class="font-bold text-rose-700 mb-2 flex items-center gap-2">
                        <i class="w-4 h-4" data-lucide="check-circle"></i> Gift Ideas
                    </h4>
                    <ul class="list-disc list-inside text-slate-700 text-sm space-y-1 ml-1" id="modal-ideas">
                        <!-- Ideas injected here -->
                    </ul>
                </div>

                <div class="bg-slate-50 p-4 rounded-xl border border-slate-100 mt-4">
                    <h4 class="font-bold text-slate-600 mb-2 flex items-center gap-2">
                        <i class="w-4 h-4" data-lucide="x-circle"></i> What to Avoid
                    </h4>
                    <p class="text-slate-600 text-sm italic" id="modal-avoid">Avoid advice goes here...</p>
                </div>
            </div>

            <div class="mt-8 flex gap-3">
                <button class="flex-1 flex items-center justify-center gap-2 py-3 px-6 rounded-xl font-semibold transition-all bg-slate-100 text-slate-700 hover:bg-slate-200" id="modal-fav-btn" onclick="toggleFavoriteFromModal()">
                    <i class="w-5 h-5" data-lucide="bookmark"></i>
                    <span id="modal-btn-text">Save Idea</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- Data ---
        const ideas = [
            { 
                id: 1, 
                title: "Words of Affirmation", 
                description: "If your partner feels most loved through verbal expression, the message behind the gift matters more than the gift itself.",
                giftIdeas: ["A handwritten letter or card with specific appreciation", "A framed quote or custom print of meaningful words", "A playlist with a note explaining why each song reminds you of them"],
                avoid: "Generic cards or vague compliments. Thoughtful words are personal, specific, and sincere.",
                icon: "message-circle-heart", 
                category: "Words" 
            },
            { 
                id: 2, 
                title: "Acts of Service", 
                description: "For people who value acts of service, love is shown through effort and helpfulness. The most romantic gift is often relief.",
                giftIdeas: ["Planning and handling a full date or weekend", "Taking over a responsibility they dislike", "Creating “service coupons” (errands, chores, favors)"],
                avoid: "Performative gestures that don’t actually help. This love language thrives on follow-through.",
                icon: "hand-helping", 
                category: "Service" 
            },
            { 
                id: 3, 
                title: "Receiving Gifts", 
                description: "Despite the name, this love language isn’t about materialism—it’s about symbolism. The gift represents care, memory, and intention.",
                giftIdeas: ["Something small but meaningful you remembered they wanted", "A personalized item tied to a shared memory", "A curated gift box with thoughtful details"],
                avoid: "Last-minute or impersonal gifts. For this love language, *how* the gift is chosen matters deeply.",
                icon: "gift", 
                category: "Gifts" 
            },
            { 
                id: 4, 
                title: "Quality Time", 
                description: "For those who value quality time, attention is everything. A gift that creates shared experience often matters more than any object.",
                giftIdeas: ["A planned day or weekend together", "Tickets to something you’ll enjoy together", "A device-free evening with an intentional activity"],
                avoid: "Being distracted or rushed. Time must be focused to feel meaningful.",
                icon: "clock", 
                category: "Time" 
            },
            { 
                id: 5, 
                title: "Physical Touch", 
                description: "This love language is about closeness and physical presence—not just intimacy, but comfort and reassurance.",
                giftIdeas: ["A cozy item that encourages closeness (blanket, hoodie)", "A massage, spa experience, or slow-dance moment", "A handwritten note paired with physical affection"],
                avoid: "Gifts without follow-up connection. Physical touch is about shared presence, not objects.",
                icon: "heart-handshake", 
                category: "Touch" 
            },
            { 
                id: 6, 
                title: "Different Love Languages?", 
                description: "Most couples don’t share the same primary love language—and that’s okay. Valentine’s Day is an opportunity to *speak your partner’s language*, even if it’s not your default.",
                giftIdeas: ["Try to translate your love into their language", "Combine elements (e.g., a gift + a letter)"],
                avoid: "Assuming they want what you would want.",
                icon: "arrow-left-right", 
                category: "General Advice" 
            },
            { 
                id: 7, 
                title: "How to Choose?", 
                description: "Before buying anything, ask yourself: What makes my partner feel most seen? When do they feel most loved by me? What have they appreciated most in the past?",
                giftIdeas: ["Reflect on past successful gifts", "Listen for clues in daily conversation"],
                avoid: "Guessing without reflection.",
                icon: "help-circle", 
                category: "General Advice" 
            }
        ];

        const categories = ["All", "Words", "Service", "Gifts", "Time", "Touch", "General Advice"];
        
        // --- State ---
        let activeCategory = "All";
        let favorites = JSON.parse(localStorage.getItem('loveLangFavorites')) || [];
        let showSavedView = false;
        let currentModalId = null;

        // --- Init ---
        function init() {
            renderCategories();
            renderGrid();
            updateSavedButton();
            lucide.createIcons();
        }

        // --- Rendering ---
        function renderCategories() {
            const container = document.getElementById('category-filters');
            container.innerHTML = '<i data-lucide="filter" class="text-slate-400 mr-2 flex-shrink-0 w-5 h-5"></i>';
            
            categories.forEach(cat => {
                const btn = document.createElement('button');
                const isActive = activeCategory === cat;
                btn.className = `px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${isActive ? 'bg-rose-600 text-white shadow-md' : 'bg-white text-slate-600 hover:bg-rose-50 hover:text-rose-600 border border-slate-200'}`;
                btn.textContent = cat;
                btn.onclick = () => {
                    activeCategory = cat;
                    renderCategories();
                    renderGrid();
                };
                container.appendChild(btn);
            });
            lucide.createIcons();
        }

        function createCardHTML(idea, isFav) {
            return `
            <div onclick="openModal(${idea.id})" class="group relative bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-rose-100 hover:border-rose-300 cursor-pointer flex flex-col h-full fade-in ${isFav ? 'ring-2 ring-rose-400' : ''}">
                <div class="absolute top-4 right-4 z-10">
                    <button onclick="event.stopPropagation(); toggleFavorite(${idea.id})" 
                        class="p-2 rounded-full transition-all ${isFav ? 'bg-rose-100 text-rose-600' : 'bg-gray-50 text-gray-400 hover:bg-rose-50 hover:text-rose-400'}">
                        <i data-lucide="bookmark" class="w-5 h-5 ${isFav ? 'fill-current' : ''}"></i>
                    </button>
                </div>
                <div class="mb-4 p-3 bg-rose-50 rounded-xl w-fit group-hover:bg-rose-100 transition-colors">
                    <i data-lucide="${idea.icon}" class="w-6 h-6 text-rose-600"></i>
                </div>
                <div class="mb-2">
                    <span class="text-xs font-medium uppercase tracking-wider text-rose-400">${idea.category}</span>
                </div>
                <h3 class="text-xl font-bold text-slate-800 mb-3 group-hover:text-rose-700 transition-colors">${idea.title}</h3>
                <p class="text-slate-600 leading-relaxed text-sm line-clamp-3">${idea.description}</p>
                <div class="mt-auto pt-4 flex items-center text-rose-600 font-medium text-sm opacity-0 group-hover:opacity-100 transition-opacity transform translate-y-2 group-hover:translate-y-0">
                    See Examples <i data-lucide="arrow-right" class="w-4 h-4 ml-1"></i>
                </div>
            </div>`;
        }

        function renderGrid() {
            const grid = document.getElementById('ideas-grid');
            grid.innerHTML = '';
            
            const filtered = activeCategory === "All" ? ideas : ideas.filter(i => i.category === activeCategory);
            
            filtered.forEach(idea => {
                grid.innerHTML += createCardHTML(idea, favorites.includes(idea.id));
            });
            lucide.createIcons();
        }

        function renderSaved() {
            const savedGrid = document.getElementById('saved-grid');
            const emptyState = document.getElementById('saved-empty');
            savedGrid.innerHTML = '';
            
            const savedIdeas = ideas.filter(i => favorites.includes(i.id));

            if (savedIdeas.length === 0) {
                savedGrid.parentElement.classList.add('hidden');
                emptyState.classList.remove('hidden');
            } else {
                savedGrid.parentElement.classList.remove('hidden');
                emptyState.classList.add('hidden');
                savedIdeas.forEach(idea => {
                    savedGrid.innerHTML += createCardHTML(idea, true);
                });
            }
            lucide.createIcons();
        }

        // --- Logic ---
        function toggleFavorite(id) {
            if (favorites.includes(id)) {
                favorites = favorites.filter(fid => fid !== id);
            } else {
                favorites.push(id);
            }
            localStorage.setItem('loveLangFavorites', JSON.stringify(favorites));
            
            updateSavedButton();
            renderGrid();
            if (showSavedView) renderSaved();
            if (currentModalId === id) updateModalButton(id);
        }

        function updateSavedButton() {
            const btn = document.getElementById('btn-saved-view');
            const text = document.getElementById('saved-count-text');
            const icon = btn.querySelector('i');
            
            text.textContent = `Saved (${favorites.length})`;
            
            if (showSavedView) {
                btn.className = "flex-1 md:flex-none flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl font-medium transition-colors bg-rose-100 border border-rose-200 text-rose-700";
                icon.classList.add('fill-current');
            } else {
                btn.className = "flex-1 md:flex-none flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl font-medium transition-colors bg-white border border-slate-200 text-slate-600 hover:border-rose-300 hover:text-rose-600";
                icon.classList.remove('fill-current');
            }
            lucide.createIcons();
        }

        function toggleSavedView() {
            showSavedView = !showSavedView;
            const savedView = document.getElementById('saved-view');
            const savedEmpty = document.getElementById('saved-empty');
            
            updateSavedButton();
            
            if (showSavedView) {
                renderSaved();
                if(favorites.length === 0) {
                   savedView.classList.add('hidden');
                   savedEmpty.classList.remove('hidden');
                } else {
                   savedView.classList.remove('hidden');
                   savedEmpty.classList.add('hidden');
                }
            } else {
                savedView.classList.add('hidden');
                savedEmpty.classList.add('hidden');
            }
        }

        function clearFavorites() {
            favorites = [];
            localStorage.setItem('loveLangFavorites', JSON.stringify(favorites));
            updateSavedButton();
            renderGrid();
            renderSaved();
        }

        function pickRandom() {
            const randomIdea = ideas[Math.floor(Math.random() * ideas.length)];
            openModal(randomIdea.id);
        }

        // --- Modal ---
        function openModal(id) {
            const idea = ideas.find(i => i.id === id);
            if (!idea) return;

            currentModalId = id;
            document.getElementById('modal-title').textContent = idea.title;
            document.getElementById('modal-desc').textContent = idea.description;
            document.getElementById('modal-category').textContent = idea.category;
            
            // Populate lists
            const list = document.getElementById('modal-ideas');
            list.innerHTML = '';
            idea.giftIdeas.forEach(gift => {
                const li = document.createElement('li');
                li.textContent = gift;
                list.appendChild(li);
            });

            document.getElementById('modal-avoid').textContent = idea.avoid;

            const iconContainer = document.getElementById('modal-icon').parentElement;
            iconContainer.innerHTML = `<i data-lucide="${idea.icon}" class="w-8 h-8 text-rose-600"></i>`;

            updateModalButton(id);

            const overlay = document.getElementById('modal-overlay');
            const content = document.getElementById('modal-content');
            
            overlay.classList.remove('hidden');
            setTimeout(() => {
                overlay.classList.remove('opacity-0');
                content.classList.remove('scale-95');
                content.classList.add('scale-100');
            }, 10);
            
            lucide.createIcons();
        }

        function updateModalButton(id) {
            const isFav = favorites.includes(id);
            const btn = document.getElementById('modal-fav-btn');
            const txt = document.getElementById('modal-btn-text');
            const icon = btn.querySelector('i');

            if (isFav) {
                btn.className = "flex-1 flex items-center justify-center gap-2 py-3 px-6 rounded-xl font-semibold transition-all bg-rose-100 text-rose-700 hover:bg-rose-200";
                txt.textContent = "Saved";
                icon.classList.add('fill-current');
            } else {
                btn.className = "flex-1 flex items-center justify-center gap-2 py-3 px-6 rounded-xl font-semibold transition-all bg-slate-100 text-slate-700 hover:bg-slate-200";
                txt.textContent = "Save Idea";
                icon.classList.remove('fill-current');
            }
            lucide.createIcons();
        }

        function toggleFavoriteFromModal() {
            if (currentModalId) toggleFavorite(currentModalId);
        }

        function closeModal() {
            const overlay = document.getElementById('modal-overlay');
            const content = document.getElementById('modal-content');
            
            overlay.classList.add('opacity-0');
            content.classList.remove('scale-100');
            content.classList.add('scale-95');
            
            setTimeout(() => {
                overlay.classList.add('hidden');
                currentModalId = null;
            }, 300);
        }

        init();
    </script>

</body></html>